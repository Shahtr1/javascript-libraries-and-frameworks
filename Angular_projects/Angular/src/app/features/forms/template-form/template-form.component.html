<h2>Template-driven Contact Form</h2>

<form #f="ngForm" (ngSubmit)="submit(f)" novalidate class="mt-3">
    <div class="mb-3">
        <label class="form-label">Name</label>
        <input name="name" class="form-control" [(ngModel)]="model.name" required #name="ngModel" />
        <div class="text-danger mt-1" *ngIf="name.invalid && (name.dirty || name.touched)">Name is required</div>
    </div>

    <div class="mb-3">
        <label class="form-label">Email</label>
        <input name="email" class="form-control" [(ngModel)]="model.email" required email #email="ngModel" />
        <div class="text-danger mt-1" *ngIf="email.invalid && (email.dirty || email.touched)">Valid email required</div>
    </div>

    <div class="mb-3">
        <label class="form-label">Topic</label>
        <select name="topic" class="form-select" [(ngModel)]="model.topic" required #topic="ngModel">
            <option value="" disabled>Select...</option>
            <option>Support</option>
            <option>Sales</option>
            <option>Feedback</option>
        </select>
        <div class="text-danger mt-1" *ngIf="topic.invalid && (topic.dirty || topic.touched)">Topic required</div>
    </div>

    <div class="mb-3">
        <label class="form-label">Message</label>
        <textarea name="message" class="form-control" rows="4" [(ngModel)]="model.message" required minlength="10"
            #message="ngModel"></textarea>
        <div class="text-danger mt-1" *ngIf="message.invalid && (message.dirty || message.touched)">
            Message (min 10 chars)
        </div>
    </div>

    <button class="btn btn-primary" type="submit" [disabled]="f.invalid || submitting">Send</button>
    <span *ngIf="submitted" class="ms-2 text-success">âœ“ Sent</span>
</form>